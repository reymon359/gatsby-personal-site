<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="ie=edge"/><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/><style data-href="/gatsby-personal-site/styles.e53586a225ffdde20c86.css" data-identity="gatsby-global-css">code[class*=language-],pre[class*=language-]{word-wrap:normal;background:none;color:#ccc;font-family:Consolas,Monaco,Andale Mono,Ubuntu Mono,monospace;font-size:1em;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;text-align:left;white-space:pre;word-break:normal;word-spacing:normal}pre[class*=language-]{margin:.5em 0;overflow:auto;padding:1em}:not(pre)>code[class*=language-],pre[class*=language-]{background:#2d2d2d}:not(pre)>code[class*=language-]{border-radius:.3em;padding:.1em;white-space:normal}.token.block-comment,.token.cdata,.token.comment,.token.doctype,.token.prolog{color:#999}.token.punctuation{color:#ccc}.token.attr-name,.token.deleted,.token.namespace,.token.tag{color:#e2777a}.token.function-name{color:#6196cc}.token.boolean,.token.function,.token.number{color:#f08d49}.token.class-name,.token.constant,.token.property,.token.symbol{color:#f8c555}.token.atrule,.token.builtin,.token.important,.token.keyword,.token.selector{color:#cc99cd}.token.attr-value,.token.char,.token.regex,.token.string,.token.variable{color:#7ec699}.token.entity,.token.operator,.token.url{color:#67cdcc}.token.bold,.token.important{font-weight:700}.token.italic{font-style:italic}.token.entity{cursor:help}.token.inserted{color:green}</style><meta name="generator" content="Gatsby 3.7.0"/><style type="text/css">
    .autolink-headers.before {
      position: absolute;
      top: 0;
      left: 0;
      transform: translateX(-100%);
      padding-right: 4px;
    }
    .autolink-headers.after {
      display: inline-block;
      padding-left: 4px;
    }
    h1 .autolink-headers svg,
    h2 .autolink-headers svg,
    h3 .autolink-headers svg,
    h4 .autolink-headers svg,
    h5 .autolink-headers svg,
    h6 .autolink-headers svg {
      visibility: hidden;
    }
    h1:hover .autolink-headers svg,
    h2:hover .autolink-headers svg,
    h3:hover .autolink-headers svg,
    h4:hover .autolink-headers svg,
    h5:hover .autolink-headers svg,
    h6:hover .autolink-headers svg,
    h1 .autolink-headers:focus svg,
    h2 .autolink-headers:focus svg,
    h3 .autolink-headers:focus svg,
    h4 .autolink-headers:focus svg,
    h5 .autolink-headers:focus svg,
    h6 .autolink-headers:focus svg {
      visibility: visible;
    }
  </style><script>
    document.addEventListener("DOMContentLoaded", function(event) {
      var hash = window.decodeURI(location.hash.replace('#', ''))
      if (hash !== '') {
        var element = document.getElementById(hash)
        if (element) {
          var scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop
          var clientTop = document.documentElement.clientTop || document.body.clientTop || 0
          var offset = element.getBoundingClientRect().top + scrollTop - clientTop
          // Wait for the browser to finish rendering before scrolling.
          setTimeout((function() {
            window.scrollTo(0, offset - 100)
          }), 0)
        }
      }
    })
  </script><link rel="canonical" href="https://ramonmorcillo.com/managing-the-infrastructure-of-a-reusable-ecommerce-platform-with-terraform/" data-baseprotocol="https:" data-basehost="ramonmorcillo.com"/><link rel="icon" href="/gatsby-personal-site/favicon-32x32.png?v=942805c02543e38c68e21b5554eb981b" type="image/png"/><link rel="manifest" href="/gatsby-personal-site/manifest.webmanifest" crossorigin="use-credentials"/><meta name="theme-color" content="#255799"/><link rel="apple-touch-icon" sizes="48x48" href="/gatsby-personal-site/icons/icon-48x48.png?v=942805c02543e38c68e21b5554eb981b"/><link rel="apple-touch-icon" sizes="72x72" href="/gatsby-personal-site/icons/icon-72x72.png?v=942805c02543e38c68e21b5554eb981b"/><link rel="apple-touch-icon" sizes="96x96" href="/gatsby-personal-site/icons/icon-96x96.png?v=942805c02543e38c68e21b5554eb981b"/><link rel="apple-touch-icon" sizes="144x144" href="/gatsby-personal-site/icons/icon-144x144.png?v=942805c02543e38c68e21b5554eb981b"/><link rel="apple-touch-icon" sizes="192x192" href="/gatsby-personal-site/icons/icon-192x192.png?v=942805c02543e38c68e21b5554eb981b"/><link rel="apple-touch-icon" sizes="256x256" href="/gatsby-personal-site/icons/icon-256x256.png?v=942805c02543e38c68e21b5554eb981b"/><link rel="apple-touch-icon" sizes="384x384" href="/gatsby-personal-site/icons/icon-384x384.png?v=942805c02543e38c68e21b5554eb981b"/><link rel="apple-touch-icon" sizes="512x512" href="/gatsby-personal-site/icons/icon-512x512.png?v=942805c02543e38c68e21b5554eb981b"/><link rel="preconnect" href="https://www.google-analytics.com"/><link rel="dns-prefetch" href="https://www.google-analytics.com"/><title data-react-helmet="true">Managing the infrastructure of a reusable ecommerce platform with Terraform | ramonmorcillo.com</title><meta data-react-helmet="true" name="description" content="Advice to manage the infrastructure of an ecommerce platform in Azure with Terraform."/><meta data-react-helmet="true" property="image" content="https://ramonmorcillo.com/gatsby-personal-site/static/2feffc83f5783abceeb974b23390af50/2244e/denys-nevozhai-Zeu57mprpaI-unsplash.jpg"/><meta data-react-helmet="true" property="og:title" content="Managing the infrastructure of a reusable ecommerce platform with Terraform"/><meta data-react-helmet="true" property="og:description" content="Advice to manage the infrastructure of an ecommerce platform in Azure with Terraform."/><meta data-react-helmet="true" property="og:image" content="https://ramonmorcillo.com/gatsby-personal-site/static/2feffc83f5783abceeb974b23390af50/2244e/denys-nevozhai-Zeu57mprpaI-unsplash.jpg"/><meta data-react-helmet="true" property="og:type" content="website"/><meta data-react-helmet="true" name="twitter:card" content="summary"/><meta data-react-helmet="true" name="twitter:creator" content="Ramon Morcillo"/><meta data-react-helmet="true" name="twitter:title" content="Managing the infrastructure of a reusable ecommerce platform with Terraform"/><meta data-react-helmet="true" name="twitter:description" content="Advice to manage the infrastructure of an ecommerce platform in Azure with Terraform."/><meta data-react-helmet="true" name="twitter:image" content="https://ramonmorcillo.com/gatsby-personal-site/static/2feffc83f5783abceeb974b23390af50/2244e/denys-nevozhai-Zeu57mprpaI-unsplash.jpg"/><meta data-react-helmet="true" name="google-site-verification" content="Add the Google Site Verification"/><meta data-react-helmet="true" name="keywords" content="blog, gatsby, typescript, javascript, portfolio, react"/><style data-styled="" data-styled-version="5.3.0">.bESpfA{padding-left:1rem;margin-bottom:1.5rem;}/*!sc*/
data-styled.g3[id="shared__Header-tnyzq1-2"]{content:"bESpfA,"}/*!sc*/
.eCLyvQ{font-size:2rem;font-weight:400;}/*!sc*/
data-styled.g4[id="shared__Title-tnyzq1-3"]{content:"eCLyvQ,"}/*!sc*/
.iEIPhv{font-size:1.5rem;font-weight:200;-webkit-letter-spacing:0.1rem;-moz-letter-spacing:0.1rem;-ms-letter-spacing:0.1rem;letter-spacing:0.1rem;padding:1rem 0;}/*!sc*/
data-styled.g5[id="shared__Description-tnyzq1-4"]{content:"iEIPhv,"}/*!sc*/
.gSZNPC{padding:0.6rem 0 0 0;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;margin-left:-0.3rem;-webkit-align-content:center;-ms-flex-line-pack:center;align-content:center;}/*!sc*/
data-styled.g8[id="shared__ItemTags-tnyzq1-7"]{content:"gSZNPC,"}/*!sc*/
.bpExil{padding:0.4rem 0.6rem;height:1.5rem;color:#F3F3F3;background-color:#F3F3F340;font-weight:600;font-size:.8rem;border-radius:3rem;margin:0.2rem;-webkit-text-decoration:none;text-decoration:none;border-bottom:0;white-space:nowrap;line-height:1;-webkit-transition:0.2s ease;transition:0.2s ease;}/*!sc*/
.bpExil:hover{color:#333333;background-color:#F3F3F3;}/*!sc*/
data-styled.g9[id="shared__Tag-tnyzq1-8"]{content:"bpExil,"}/*!sc*/
.dQZthV{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%) scale(0);-ms-transform:translate(-50%,-50%) scale(0);transform:translate(-50%,-50%) scale(0);background:#FFFFFF10;height:100%;width:100%;border-radius:100%;pointer-events:none;opacity:1;will-change:transform;}/*!sc*/
data-styled.g10[id="Logo__Background-sc-19tlazh-0"]{content:"dQZthV,"}/*!sc*/
.bCOyZr{position:fixed;top:0;left:0;max-width:18rem;padding:5rem;}/*!sc*/
@media (max-width:78em){.bCOyZr{padding:3rem;}}/*!sc*/
@media (max-width:54em){.bCOyZr{padding:3rem;}}/*!sc*/
@media (max-width:40em){.bCOyZr{padding:2rem;}}/*!sc*/
@media (max-width:54em){.bCOyZr{position:static;padding:0;}}/*!sc*/
.bCOyZr a,.bCOyZr svg{pointer-events:all;display:block;}/*!sc*/
.bCOyZr a{width:1.65rem;border-bottom:none;}/*!sc*/
.bCOyZr a:hover{border-bottom:none;}/*!sc*/
@media (max-width:78em){.bCOyZr a{width:1.45rem;}}/*!sc*/
.bCOyZr svg{width:100%;height:auto;}/*!sc*/
.bCOyZr a:hover + .Logo__Background-sc-19tlazh-0{opacity:0;-webkit-transform:translate(-50%,-50%) scale(7.5);-ms-transform:translate(-50%,-50%) scale(7.5);transform:translate(-50%,-50%) scale(7.5);-webkit-transition:-webkit-transform 1s cubic-bezier(0.45,0,0.1,1),opacity 0.8s ease;-webkit-transition:transform 1s cubic-bezier(0.45,0,0.1,1),opacity 0.8s ease;transition:transform 1s cubic-bezier(0.45,0,0.1,1),opacity 0.8s ease;}/*!sc*/
data-styled.g11[id="Logo__Wrapper-sc-19tlazh-1"]{content:"bCOyZr,"}/*!sc*/
.Essph{position:relative;}/*!sc*/
data-styled.g12[id="Logo__RelativeWrapper-sc-19tlazh-2"]{content:"Essph,"}/*!sc*/
.iXxlXu{width:100%;position:fixed;top:50%;}/*!sc*/
@media (max-width:54em){.iXxlXu{position:static;padding-top:1.5rem;}}/*!sc*/
data-styled.g13[id="Footer__FooterWrapper-sc-1df0yns-0"]{content:"iXxlXu,"}/*!sc*/
.jSPHnk{position:absolute;font-family:"Roboto",stack-sans,"Open Sans","Lato","Nunito Sans","Helvetica Neue",Helvetica,Arial,sans-serif;-webkit-letter-spacing:0.1rem;-moz-letter-spacing:0.1rem;-ms-letter-spacing:0.1rem;letter-spacing:0.1rem;color:#FFFFFF;font-size:0.85rem;line-height:1em;pointer-events:all;-webkit-transform:rotate(-90deg) translateX(-50%);-ms-transform:rotate(-90deg) translateX(-50%);transform:rotate(-90deg) translateX(-50%);-webkit-transform-origin:left;-ms-transform-origin:left;transform-origin:left;left:5rem;}/*!sc*/
.jSPHnk a{border-bottom:none;}/*!sc*/
@media (max-width:78em){.jSPHnk{left:3rem;}}/*!sc*/
@media (max-width:54em){.jSPHnk{left:3rem;}}/*!sc*/
@media (max-width:40em){.jSPHnk{left:2rem;}}/*!sc*/
@media (max-width:54em){.jSPHnk{position:static;-webkit-transform:rotate(0) translateX(0);-ms-transform:rotate(0) translateX(0);transform:rotate(0) translateX(0);-webkit-transform-origin:0;-ms-transform-origin:0;transform-origin:0;padding:.5rem 0 0;text-align:center;font-size:.8rem;}}/*!sc*/
.jSPHnk small{font-size:70% !important;}/*!sc*/
.iYbvcT{position:absolute;font-family:"Roboto",stack-sans,"Open Sans","Lato","Nunito Sans","Helvetica Neue",Helvetica,Arial,sans-serif;-webkit-letter-spacing:0.1rem;-moz-letter-spacing:0.1rem;-ms-letter-spacing:0.1rem;letter-spacing:0.1rem;color:#FFFFFF;font-size:0.85rem;line-height:1em;pointer-events:all;-webkit-transform:rotate(90deg) translateX(50%);-ms-transform:rotate(90deg) translateX(50%);transform:rotate(90deg) translateX(50%);-webkit-transform-origin:right;-ms-transform-origin:right;transform-origin:right;right:5rem;}/*!sc*/
.iYbvcT a{border-bottom:none;}/*!sc*/
@media (max-width:78em){.iYbvcT{right:3rem;}}/*!sc*/
@media (max-width:54em){.iYbvcT{right:3rem;}}/*!sc*/
@media (max-width:40em){.iYbvcT{right:2rem;}}/*!sc*/
@media (max-width:54em){.iYbvcT{position:static;-webkit-transform:rotate(0) translateX(0);-ms-transform:rotate(0) translateX(0);transform:rotate(0) translateX(0);-webkit-transform-origin:0;-ms-transform-origin:0;transform-origin:0;padding:.5rem 0 0;text-align:center;font-size:.8rem;}}/*!sc*/
.iYbvcT small{font-size:70% !important;}/*!sc*/
data-styled.g14[id="Footer__Item-sc-1df0yns-1"]{content:"jSPHnk,iYbvcT,"}/*!sc*/
.bTtsHt{position:fixed;bottom:0;left:0;right:0;width:100%;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;padding:5rem;}/*!sc*/
@media (max-width:78em){.bTtsHt{padding:3rem;}}/*!sc*/
@media (max-width:54em){.bTtsHt{padding:3rem;}}/*!sc*/
@media (max-width:40em){.bTtsHt{padding:2rem;}}/*!sc*/
.bTtsHt ul:last-child li{text-align:right;}/*!sc*/
.bTtsHt ul:last-child li a{-webkit-transition:color 0.4s ease;transition:color 0.4s ease;will-change:color;position:relative;border-bottom:none;}/*!sc*/
.bTtsHt ul:last-child li a::before{position:absolute;left:-1.1rem;top:50%;background:#FFFFFF;border-radius:100%;content:'';display:block;height:0.3rem;width:0.3rem;-webkit-transition:-webkit-transform 0.3s cubic-bezier(0.45,0,0.1,1),opacity 0.1s ease;-webkit-transition:transform 0.3s cubic-bezier(0.45,0,0.1,1),opacity 0.1s ease;transition:transform 0.3s cubic-bezier(0.45,0,0.1,1),opacity 0.1s ease;will-change:transform,opacity;}/*!sc*/
.bTtsHt ul:last-child li a:not(.active)::before{opacity:0;-webkit-transform:translate(-1rem,-50%);-ms-transform:translate(-1rem,-50%);transform:translate(-1rem,-50%);}/*!sc*/
.bTtsHt ul:last-child li a:hover{color:#FFFFFF;}/*!sc*/
.bTtsHt ul:last-child li a:hover::before{-webkit-transform:translate(0,-50%);-ms-transform:translate(0,-50%);transform:translate(0,-50%);opacity:1;}/*!sc*/
@media (max-width:54em){.bTtsHt{position:static;padding:0;}}/*!sc*/
data-styled.g15[id="Menu__MenuWrapper-sc-1vxe8de-0"]{content:"bTtsHt,"}/*!sc*/
.iNaoaw{list-style:none;padding:0;margin:0;width:50%;max-width:14rem;}/*!sc*/
data-styled.g16[id="Menu__Nav-sc-1vxe8de-1"]{content:"iNaoaw,"}/*!sc*/
.ByzpB{list-style:none;padding:0.5rem 0;line-height:1em;}/*!sc*/
.ByzpB:last-child{padding-bottom:0;}/*!sc*/
.ByzpB a{font-size:1rem;font-family:"Roboto",stack-sans,"Open Sans","Lato","Nunito Sans","Helvetica Neue",Helvetica,Arial,sans-serif;color:#DDDDDD;font-weight:400;pointer-events:all;-webkit-transition:color 0.1s ease;transition:color 0.1s ease;line-height:1em;border-bottom:none;}/*!sc*/
.ByzpB a:hover{color:#FFFFFF;font-weight:600;border-bottom:none;}/*!sc*/
data-styled.g17[id="Menu__NavItem-sc-1vxe8de-2"]{content:"ByzpB,"}/*!sc*/
.cEEwRr{text-transform:capitalize;}/*!sc*/
.cEEwRr:hover{color:#FFFFFF;font-weight:600;}/*!sc*/
.cEEwRr.active{color:#FFFFFF;font-weight:600;}/*!sc*/
.cEEwRr.active::before{-webkit-transform:translate(0,-50%);-ms-transform:translate(0,-50%);transform:translate(0,-50%);opacity:1;}/*!sc*/
data-styled.g18[id="Menu__NavLink-sc-1vxe8de-3"]{content:"cEEwRr,"}/*!sc*/
.bHbNgR{pointer-events:all;display:none;height:15px;width:1.75rem;-webkit-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;-webkit-backface-visibility:hidden;backface-visibility:hidden;-webkit-transition:-webkit-transform 0.45s cubic-bezier(0.45,0,0.07,1);-webkit-transition:transform 0.45s cubic-bezier(0.45,0,0.07,1);transition:transform 0.45s cubic-bezier(0.45,0,0.07,1);will-change:transform;cursor:pointer;-webkit-transform:rotate(0);-ms-transform:rotate(0);transform:rotate(0);}/*!sc*/
.bHbNgR span{display:inline-block;height:1px;background:#FFFFFF;}/*!sc*/
.bHbNgR span:nth-child(1){width:100%;}/*!sc*/
.bHbNgR span:nth-child(2){width:60%;margin-right:20%;}/*!sc*/
.bHbNgR span:nth-child(3){width:100%;}/*!sc*/
@media (max-width:54em){.bHbNgR{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;}}/*!sc*/
data-styled.g19[id="ToggleMenu__ToggleMenuWrapper-sc-1rm9swz-0"]{content:"bHbNgR,"}/*!sc*/
.fPYIDe{color:#F3F3F3;font-size:1rem;font-family:"SFMono-Regular",Consolas,"Liberation Mono",Menlo,Courier,monospace;-webkit-letter-spacing:0.05rem;-moz-letter-spacing:0.05rem;-ms-letter-spacing:0.05rem;letter-spacing:0.05rem;text-align:center;opacity:0;display:none;-webkit-animation:fade 10s;animation:fade 10s;}/*!sc*/
@media (max-width:54em){.fPYIDe{margin-bottom:0;padding-top:0;}}/*!sc*/
@media (max-width:40em){.fPYIDe{margin-bottom:-0.3rem;max-width:70%;}}/*!sc*/
@-webkit-keyframes fade{0%{opacity:1;}80%{opacity:1;}100%{opacity:0;}}/*!sc*/
@keyframes fade{0%{opacity:1;}80%{opacity:1;}100%{opacity:0;}}/*!sc*/
data-styled.g20[id="HelpMessage__Wrapper-sc-11fekqt-0"]{content:"fPYIDe,"}/*!sc*/
.hfVphx{pointer-events:all;}/*!sc*/
@media (max-width:54em){.hfVphx{position:fixed;bottom:0;left:0;right:0;width:100%;z-index:10;}}/*!sc*/
@media only screen and (min-width:54em){.hfVphx{pointer-events:none;}}/*!sc*/
data-styled.g21[id="Navigation__Wrapper-sxzav8-0"]{content:"hfVphx,"}/*!sc*/
@media (max-width:54em){.jUAACT{background:#090f17;overflow:hidden;-webkit-transition:max-height .6s cubic-bezier(0.45,0,.1,1);transition:max-height .6s cubic-bezier(0.45,0,.1,1);will-change:max-height;max-height:0;}.jUAACT > div{padding:0 3rem 3rem;}}/*!sc*/
@media (max-width:40em){.jUAACT > div{padding:0 2rem 2rem;}}/*!sc*/
data-styled.g22[id="Navigation__Shoable-sxzav8-1"]{content:"jUAACT,"}/*!sc*/
.iTMXyh{background-image:linear-gradient( to bottom,#090f1700 0%,#090f17 50% );}/*!sc*/
@media (max-width:54em){.iTMXyh{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;-ms-flex-pack:justify;justify-content:space-between;-webkit-align-items:flex-end;-webkit-box-align:flex-end;-ms-flex-align:flex-end;align-items:flex-end;width:100%;min-height:7rem;padding:5rem;}@media (max-width:78em){.iTMXyh{padding:3rem;}}@media (max-width:54em){.iTMXyh{padding:3rem;}}@media (max-width:40em){.iTMXyh{padding:2rem;}}}/*!sc*/
data-styled.g23[id="Navigation__Header-sxzav8-2"]{content:"iTMXyh,"}/*!sc*/
html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,sup,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,main,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline;}/*!sc*/
article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section{display:block;}/*!sc*/
*[hidden]{display:none;}/*!sc*/
body{line-height:1;}/*!sc*/
ol,ul{list-style:none;}/*!sc*/
blockquote,q{quotes:none;}/*!sc*/
blockquote:before,blockquote:after,q:before,q:after{content:'';content:none;}/*!sc*/
table{border-collapse:collapse;border-spacing:0;}/*!sc*/
html,body{height:100%;font-size:14px;}/*!sc*/
body{background:#090f17;color:#FFFFFF;font-family:"Roboto",stack-sans,"Open Sans","Lato","Nunito Sans","Helvetica Neue",Helvetica,Arial,sans-serif;-webkit-backface-visibility:hidden;backface-visibility:hidden;margin:0;}/*!sc*/
h1,h2,h3,h4,h5,h6{font-weight:300;line-height:inherit;}/*!sc*/
h2{display:inline-block;font-size:1.8rem;margin-top:1rem;margin-bottom:1rem;padding:0.4rem 0;}/*!sc*/
h3{display:inline-block;font-size:1.5rem;margin-top:.7rem;margin-bottom:.7rem;}/*!sc*/
p{font-size:1.25rem;margin:1.5rem 0;vertical-align:baseline;}/*!sc*/
strong{font-weight:600;}/*!sc*/
ul,ol{font-size:1.2rem;padding:1rem;margin-left:1rem;}/*!sc*/
ul{list-style-type:circle;}/*!sc*/
ol{list-style-type:decimal;}/*!sc*/
li{padding:0.2rem;}/*!sc*/
li p{margin:0;}/*!sc*/
a{cursor:pointer;-webkit-text-decoration:none;text-decoration:none;-webkit-transition:color ease-in .2s;transition:color ease-in .2s;font-weight:600;color:#FFFFFF;border-bottom:1px dashed #FFFFFF;}/*!sc*/
a:hover{border-bottom:1px solid #FFFFFF;}/*!sc*/
button:focus{outline:0;}/*!sc*/
*{box-sizing:border-box;line-height:1.4em;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-kerning:auto;}/*!sc*/
blockquote{box-shadow:inset 3px 0 0 0 #F8F8F8;padding-left:23px;font-style:italic;}/*!sc*/
img[src$=".gif"]{display:block;margin:auto;width:100%;max-width:600px;}/*!sc*/
video{max-height:500px;width:100%;max-width:600px;display:block;margin:0.5rem auto;}/*!sc*/
figcaption{text-align:center;font-size:1rem;font-style:italic;margin:2rem 0;}/*!sc*/
em{font-style:italic;}/*!sc*/
::selection{color:#ebc86e;background:transparent;}/*!sc*/
.autolink-headers,.gatsby-resp-image-link{border-bottom:none;}/*!sc*/
.autolink-headers:hover,.gatsby-resp-image-link:hover{border-bottom:none;}/*!sc*/
table{font-size:1.25rem;margin:auto;width:100%;max-width:600px;overflow:auto;}/*!sc*/
table,tr,th,td{border:1px solid #999999;padding:.5rem;}/*!sc*/
data-styled.g24[id="sc-global-dLywzA1"]{content:"sc-global-dLywzA1,"}/*!sc*/
.bHlQoN{max-width:68rem;width:calc(100% - 9.25rem * 2);margin:11rem auto 5rem;position:absolute;top:0;left:0;right:0;bottom:0;height:100%;}/*!sc*/
@media (max-width:78em){.bHlQoN{width:1.45rem;margin:8rem auto 3rem;width:calc(100% - 11rem * 2);}}/*!sc*/
@media (max-width:54em){.bHlQoN{width:100%;margin:4rem auto 0;padding:0 3rem 6rem;}}/*!sc*/
@media (max-width:40em){.bHlQoN{margin:2rem auto 0;padding:0 2rem 6rem;}}/*!sc*/
data-styled.g25[id="Content__Wrapper-sc-1q50de9-0"]{content:"bHlQoN,"}/*!sc*/
.dYysHN{height:10rem;}/*!sc*/
data-styled.g26[id="Content__BottomHeight-sc-1q50de9-1"]{content:"dYysHN,"}/*!sc*/
.fCKPUh{padding:1rem 1rem 4rem;}/*!sc*/
data-styled.g53[id="Comments__Wrapper-czvh9a-0"]{content:"fCKPUh,"}/*!sc*/
.hfVTUK{color:#F3F3F3;background-color:#F3F3F340;font-size:1rem;font-weight:600;border-radius:5px;box-sizing:border-box;-webkit-text-decoration:none;text-decoration:none;display:block;padding:0.4rem 0.6rem;border-bottom:0;white-space:nowrap;line-height:1;margin:2rem 0 0.2rem 1rem;-webkit-transition:0.4s ease;transition:0.4s ease;float:right;}/*!sc*/
.hfVTUK:hover{background-color:#F3F3F3;border-bottom:none;}/*!sc*/
.hfVTUK a{border:none;}/*!sc*/
.hfVTUK a:hover{border:none;color:#333333;}/*!sc*/
data-styled.g61[id="Comments__Actions-czvh9a-8"]{content:"hfVTUK,"}/*!sc*/
.galTMt{list-style-type:none;margin-left:0;padding-bottom:2rem;display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-wrap:wrap;-ms-flex-wrap:wrap;flex-wrap:wrap;}/*!sc*/
.galTMt li{text-align:left;padding:1rem;width:50%;}/*!sc*/
@media (max-width:54em){.galTMt li{width:100%;text-align:center;}}/*!sc*/
.galTMt li::before{content:'' !important;padding-right:0 !important;}/*!sc*/
.galTMt li:nth-child(2){text-align:right;}/*!sc*/
@media (max-width:54em){.galTMt li:nth-child(2){text-align:center;}}/*!sc*/
.galTMt a{border-bottom:none;}/*!sc*/
data-styled.g62[id="post__OtherPostsLinks-sc-18ghmkz-0"]{content:"galTMt,"}/*!sc*/
.iOOWPE{font-size:1rem;font-weight:200;padding:1rem 0 2rem 0;}/*!sc*/
data-styled.g63[id="post__Date-sc-18ghmkz-1"]{content:"iOOWPE,"}/*!sc*/
</style><link rel="sitemap" type="application/xml" href="/gatsby-personal-site/sitemap/sitemap-index.xml"/><link as="script" rel="preload" href="/gatsby-personal-site/webpack-runtime-37b80963a1cdea856f28.js"/><link as="script" rel="preload" href="/gatsby-personal-site/framework-de69d1d98c3759f869ba.js"/><link as="script" rel="preload" href="/gatsby-personal-site/app-661b59fc950a0d419b03.js"/><link as="script" rel="preload" href="/gatsby-personal-site/commons-2572092cd8427adb054b.js"/><link as="script" rel="preload" href="/gatsby-personal-site/a93ca09b3e214b1f9c56eefcc27e05eb63340a26-41145a67edc9f38f72ea.js"/><link as="script" rel="preload" href="/gatsby-personal-site/component---src-templates-post-tsx-fc7e64f5e9378365724d.js"/><link as="fetch" rel="preload" href="/gatsby-personal-site/page-data/managing-the-infrastructure-of-a-reusable-ecommerce-platform-with-terraform/page-data.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/gatsby-personal-site/page-data/sq/d/1500402284.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/gatsby-personal-site/page-data/sq/d/474397040.json" crossorigin="anonymous"/><link as="fetch" rel="preload" href="/gatsby-personal-site/page-data/app-data.json" crossorigin="anonymous"/></head><body><div id="___gatsby"><div style="outline:none" tabindex="-1" id="gatsby-focus-wrapper"><main role="main"><canvas id="canvas" style="background-color:#000000;background-image:radial-gradient(
        circle at 92% 35%,
        #adee620d,
        transparent 130%
      )
  ,
      radial-gradient(
        circle at 15% 45%,
        #019ec60d,
        transparent 96%
      )
  ,
      radial-gradient(
        circle at 59% 95%,
        #3216640d,
        transparent 66%
      )
  ,
      radial-gradient(
        circle at 100% 70%,
        #2b7e7e0d,
        transparent 114%
      )
  ,
      radial-gradient(
        circle at 52% 45%,
        #8bff820d,
        transparent 95%
      );opacity:0.3;position:fixed;width:100%;height:100%"></canvas><div class="Content__Wrapper-sc-1q50de9-0 bHlQoN"><article><div class="shared__Header-tnyzq1-2 bESpfA"><h1 class="shared__Title-tnyzq1-3 eCLyvQ">Managing the infrastructure of a reusable ecommerce platform with Terraform</h1><div class="shared__Description-tnyzq1-4 iEIPhv">Advice to manage the infrastructure of an ecommerce platform in Azure with Terraform.</div><div class="shared__ItemTags-tnyzq1-7 gSZNPC"><a class="shared__Tag-tnyzq1-8 bpExil" href="/gatsby-personal-site/tags/Azure/">Azure</a><a class="shared__Tag-tnyzq1-8 bpExil" href="/gatsby-personal-site/tags/DevOps/">DevOps</a><a class="shared__Tag-tnyzq1-8 bpExil" href="/gatsby-personal-site/tags/Ecommerce/">Ecommerce</a><a class="shared__Tag-tnyzq1-8 bpExil" href="/gatsby-personal-site/tags/Software Development/">Software Development</a><a class="shared__Tag-tnyzq1-8 bpExil" href="/gatsby-personal-site/tags/Terraform/">Terraform</a></div><div class="post__Date-sc-18ghmkz-1 iOOWPE">June 03, 2021</div><div style="width:100%;height:auto"><div class=" gatsby-image-wrapper" style="position:relative;overflow:hidden"><div aria-hidden="true" style="width:100%;padding-bottom:66.5%"></div><img aria-hidden="true" src="data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAwEBAAAAAAAAAAAAAAAAAAMEAQX/xAAWAQEBAQAAAAAAAAAAAAAAAAACAAH/2gAMAwEAAhADEAAAAYLuVhTxBt//xAAZEAADAQEBAAAAAAAAAAAAAAABAhEAEiH/2gAIAQEAAQUCS7oqCxt8Da7/xAAXEQEBAQEAAAAAAAAAAAAAAAABAAIS/9oACAEDAQE/ATSXTf/EABcRAQEBAQAAAAAAAAAAAAAAAAEAAhH/2gAIAQIBAT8BcjcL/8QAGhAAAgIDAAAAAAAAAAAAAAAAAAEQMSEygf/aAAgBAQAGPwK2bPhbjEf/xAAbEAACAwADAAAAAAAAAAAAAAAAEQExQYGRsf/aAAgBAQABPyGTeBNqC+YNroTqORz/2gAMAwEAAgADAAAAEEsP/8QAFhEBAQEAAAAAAAAAAAAAAAAAADFh/9oACAEDAQE/EIDR/8QAFxEBAAMAAAAAAAAAAAAAAAAAAAExYf/aAAgBAgEBPxCwhk//xAAdEAEBAQABBQEAAAAAAAAAAAABEQBRITFBYXGR/9oACAEBAAE/EGkReaf3LeQNLOnlz2k9K4OBA9xS5bj4ao2peHf/2Q==" alt="" style="position:absolute;top:0;left:0;width:100%;height:100%;object-fit:cover;object-position:center;opacity:1;transition-delay:500ms"/><noscript><picture><source srcset="/gatsby-personal-site/static/2feffc83f5783abceeb974b23390af50/f836f/denys-nevozhai-Zeu57mprpaI-unsplash.jpg 200w,
/gatsby-personal-site/static/2feffc83f5783abceeb974b23390af50/2244e/denys-nevozhai-Zeu57mprpaI-unsplash.jpg 400w,
/gatsby-personal-site/static/2feffc83f5783abceeb974b23390af50/14b42/denys-nevozhai-Zeu57mprpaI-unsplash.jpg 800w,
/gatsby-personal-site/static/2feffc83f5783abceeb974b23390af50/47498/denys-nevozhai-Zeu57mprpaI-unsplash.jpg 1200w,
/gatsby-personal-site/static/2feffc83f5783abceeb974b23390af50/0e329/denys-nevozhai-Zeu57mprpaI-unsplash.jpg 1600w,
/gatsby-personal-site/static/2feffc83f5783abceeb974b23390af50/d8255/denys-nevozhai-Zeu57mprpaI-unsplash.jpg 1920w" sizes="(max-width: 800px) 100vw, 800px" /><img loading="lazy" sizes="(max-width: 800px) 100vw, 800px" srcset="/gatsby-personal-site/static/2feffc83f5783abceeb974b23390af50/f836f/denys-nevozhai-Zeu57mprpaI-unsplash.jpg 200w,
/gatsby-personal-site/static/2feffc83f5783abceeb974b23390af50/2244e/denys-nevozhai-Zeu57mprpaI-unsplash.jpg 400w,
/gatsby-personal-site/static/2feffc83f5783abceeb974b23390af50/14b42/denys-nevozhai-Zeu57mprpaI-unsplash.jpg 800w,
/gatsby-personal-site/static/2feffc83f5783abceeb974b23390af50/47498/denys-nevozhai-Zeu57mprpaI-unsplash.jpg 1200w,
/gatsby-personal-site/static/2feffc83f5783abceeb974b23390af50/0e329/denys-nevozhai-Zeu57mprpaI-unsplash.jpg 1600w,
/gatsby-personal-site/static/2feffc83f5783abceeb974b23390af50/d8255/denys-nevozhai-Zeu57mprpaI-unsplash.jpg 1920w" src="/gatsby-personal-site/static/2feffc83f5783abceeb974b23390af50/14b42/denys-nevozhai-Zeu57mprpaI-unsplash.jpg" alt="" style="position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center"/></picture></noscript></div></div></div><div><div style="padding-left:1rem;line-height:1.6"><p>Setting up and maintaining the infrastructure for a <a href="https://ramonmorcillo.com/developing-a-reusable-ecommerce-platform/">reusable ecommerce platform</a> with a microservice architecture is not an easy task. You have to provide every service with resources, keep track of them and update them when needed.</p>
<p>Our team uses <a href="https://azure.microsoft.com/en-us/">Azure</a> as our cloud provider to manage all those resources. <strong>Every service uses different resources related to the business logic they handle.</strong> We use resources like <a href="https://azure.microsoft.com/en-us/services/service-bus/">Azure Service Bus</a> to handle the asynchronous communication between them and <a href="https://azure.microsoft.com/en-us/services/key-vault/">Azure Key Vault</a> to store the secrets and environment variables.</p>
<p>In the ones where we need a persistence layer, we rely on the resources <a href="https://azure.microsoft.com/en-us/services/cosmos-db/">Azure Cosmos DB</a> or <a href="https://azure.microsoft.com/en-us/services/postgresql/">Azure Database for PostgreSQL</a>. Other services provide an API to search among a catalog of products with <a href="https://azure.microsoft.com/en-us/services/search/">Azure Cognitive Search</a>. As I will explain later, we work with different <em>environments</em>, therefore, creating and updating the resources across them becomes a harder task.</p>
<p>If you want to understand better the context of the <strong>reusable ecommerce platform</strong> I mention in this lecture, I recommend you to take a look at <a href="https://ramonmorcillo.com/developing-a-reusable-ecommerce-platform/">this article</a>. Although the architecture has changed a bit, the core concept of the reusable ecommerce platform remains the same, making this article easier to understand.</p>
<p>So, how do you keep track of all the services resources that are being used across them?</p>
<p>This is where <a href="https://www.terraform.io/">Terraform</a> comes in handy.</p>
<h2 id="Table-of-Contents" style="position:relative;">Table of Contents<a href="#Table-of-Contents" aria-label="Table of Contents permalink" class="autolink-headers after"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20" style="margin: 0 0 -0.2rem 0.7rem; "><path fill="white" fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2>
<ul>
<li><a href="#What-is-Terraform">What is Terraform</a>
<ul>
<li><a href="#Modules">Modules</a></li>
<li><a href="#Resources">Resources</a></li>
<li><a href="#Terraform-Plan">Terraform Plan</a></li>
<li><a href="#Terraform-Apply">Terraform Apply</a></li>
<li><a href="#State">State</a></li>
</ul>
</li>
<li><a href="#How-we-use-it">How we use it</a>
<ul>
<li><a href="#Version-Control-System">Version Control System</a></li>
<li><a href="#Terraform-Variables">Terraform Variables</a></li>
<li><a href="#Environments-and-CICD">Environments and CICD</a></li>
</ul>
</li>
<li><a href="#Conclusions">Conclusions</a></li>
</ul>
<h2 id="What-is-Terraform" style="position:relative;">What is Terraform<a href="#What-is-Terraform" aria-label="What is Terraform permalink" class="autolink-headers after"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20" style="margin: 0 0 -0.2rem 0.7rem; "><path fill="white" fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2>
<p><figure class="gatsby-resp-image-figure" style="border-bottom: none;">
    <span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/gatsby-personal-site/static/a6a61ede589d9e27f003a629c30bbe80/29114/hashicorp_terraform_logo.png"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 55.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAxklEQVQoz6VSMQuCQBj1nxu0lEs2HNjmLBpSo066BNKiTUU2SFvUBR0RfN93kRdyQg3qm747eO/ee98ZcgCMZiKShFI7UgeyArb5iKhUAKCZ2+T6ht/geHjVfKqqqixPQgglAQB/X1Zydw6LGZ+M98WOr1dL0xxFUZQkCWPM9/04jj3Py7Lsh23ldrt5zqdnKWWeF5ZlhWHouq5t20EQMMYcx0nTFLVgrczigdcLNF46F0YffHOqhlDDr8L0bVGvPQ/6JD3Ib1XSebaKWxI5AAAAAElFTkSuQmCC'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Terraform logo by HashiCorp"
        title="Terraform logo by HashiCorp"
        src="/gatsby-personal-site/static/a6a61ede589d9e27f003a629c30bbe80/0a47e/hashicorp_terraform_logo.png"
        srcset="/gatsby-personal-site/static/a6a61ede589d9e27f003a629c30bbe80/8a4e8/hashicorp_terraform_logo.png 150w,
/gatsby-personal-site/static/a6a61ede589d9e27f003a629c30bbe80/5a46d/hashicorp_terraform_logo.png 300w,
/gatsby-personal-site/static/a6a61ede589d9e27f003a629c30bbe80/0a47e/hashicorp_terraform_logo.png 600w,
/gatsby-personal-site/static/a6a61ede589d9e27f003a629c30bbe80/1cfc2/hashicorp_terraform_logo.png 900w,
/gatsby-personal-site/static/a6a61ede589d9e27f003a629c30bbe80/c1b63/hashicorp_terraform_logo.png 1200w,
/gatsby-personal-site/static/a6a61ede589d9e27f003a629c30bbe80/29114/hashicorp_terraform_logo.png 1920w"
        sizes="(max-width: 600px) 100vw, 600px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span>
    <figcaption class="gatsby-resp-image-figcaption"><p>Terraform logo by HashiCorp</p></figcaption>
  </figure></p>
<p><a href="https://www.terraform.io/">Terraform</a> is an open-source infrastructure as code software tool developed by HashiCorp. It provides a consistent CLI workflow to manage hundreds of cloud services in configuration files. <a href="https://learn.hashicorp.com/tutorials/terraform/install-cli">Here</a> is the official guide on how to install it.</p>
<p>Terraform is a tool that helps you manage various cloud infrastructure services coding configuration files where you can configure the ones needed. It has support for the main cloud providers out there like AWS, Azure, or GCP.</p>
<p>I will enumerate the main features it provides. There are plenty more, however, these are the minimum ones required to understand the tool and this article.</p>
<h3 id="Modules" style="position:relative;">Modules<a href="#Modules" aria-label="Modules permalink" class="autolink-headers after"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20" style="margin: 0 0 -0.2rem 0.7rem; "><path fill="white" fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p>Terraform provides modules that help us <strong>reuse our Terraform code.</strong> Our complex infrastructure is broken into multiple modules making it more reusable and simpler to maintain.</p>
<p>It is very easy to convert a given Terraform configuration into modules and Terraform has its eco-system for pre-built modules.</p>
<h3 id="Resources" style="position:relative;">Resources<a href="#Resources" aria-label="Resources permalink" class="autolink-headers after"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20" style="margin: 0 0 -0.2rem 0.7rem; "><path fill="white" fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p>Resources are the <em>key</em> element in Terraform. Each of them describes a cloud service such as a computed instance, persistence system, or DNS record.</p>
<p>Here is a simple example of how we would define a resource we want to use in our infrastructure:</p>
<div class="gatsby-highlight" data-language="hcl"><pre class="language-hcl"><code class="language-hcl"><span class="token keyword">terraform</span> <span class="token punctuation">{</span>
  <span class="token keyword">required_providers</span> <span class="token punctuation">{</span>
    <span class="token property">food</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
      <span class="token property">source</span>  <span class="token punctuation">=</span> <span class="token string">"hashicorp/food"</span>
      <span class="token property">version</span> <span class="token punctuation">=</span> <span class="token string">"~> 1.0.4"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">resource <span class="token type variable">"food_tapas"</span></span> <span class="token string">"spanish_omelet"</span> <span class="token punctuation">{</span>
  <span class="token property">ingredient_1</span> <span class="token punctuation">=</span> <span class="token string">"eggs"</span>
  <span class="token property">ingredient_2</span> <span class="token punctuation">=</span> <span class="token string">"onions"</span>
  <span class="token property">Ingredient_3</span> <span class="token punctuation">=</span> <span class="token string">"potatoes"</span>
<span class="token punctuation">}</span></code></pre></div>
<p>The language used in Terraform is the <em>HashiCorp Configuration Language (HCL)</em>. In the example above we first specify the cloud provider <code class="language-text">food</code>. Then define a resource of the type <code class="language-text">food_tapas</code> with the name <code class="language-text">spanish_omelet</code>. Inside the resource block, we have the configuration arguments which are the ingredients for this delicious resource.</p>
<h3 id="Terraform-Plan" style="position:relative;">Terraform Plan<a href="#Terraform-Plan" aria-label="Terraform Plan permalink" class="autolink-headers after"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20" style="margin: 0 0 -0.2rem 0.7rem; "><path fill="white" fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p>Once all the infrastructure resources have been defined, a <strong>Plan</strong> is run. Here Terraform checks the code for syntax errors, state verification, API authentication, and then outputs a summary of the changes.</p>
<p>Running <code class="language-text">terraform plan</code> allows you to check if the plan to be applied for such configuration is the one you were expecting before changing the infrastructure.</p>
<p>Here is an example of the output summary we would get when running <code class="language-text">terraform plan</code> with the example resource</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell">$ terraform plan
An execution plan has been generated and is shown below.

Resource actions are indicated with the following symbols:
  + create

Terraform will perform the following actions:

  <span class="token comment"># food_tapas.spanish_omelet will be created</span>
  + resource <span class="token string">"food_tapas"</span> <span class="token string">"spanish_omelet"</span> <span class="token punctuation">{</span>
        + <span class="token function">id</span>                <span class="token operator">=</span> <span class="token punctuation">(</span>known after apply<span class="token punctuation">)</span>
        + ingredient_1      <span class="token operator">=</span> <span class="token string">"eggs"</span>
        + ingredient_2      <span class="token operator">=</span> <span class="token string">"onions"</span>
        + ingredient_3      <span class="token operator">=</span> <span class="token string">"potatoes"</span>
    <span class="token punctuation">}</span>

Plan: <span class="token number">1</span> to add, <span class="token number">0</span> to change, <span class="token number">0</span> to destroy.</code></pre></div>
<h3 id="Terraform-Apply" style="position:relative;">Terraform Apply<a href="#Terraform-Apply" aria-label="Terraform Apply permalink" class="autolink-headers after"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20" style="margin: 0 0 -0.2rem 0.7rem; "><path fill="white" fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p>Once confirmed, the summary of changes are the ones wanted, we execute them with <code class="language-text">terraform apply</code>.</p>
<p>After running it successfully the console shows this output.</p>
<div class="gatsby-highlight" data-language="shell"><pre class="language-shell"><code class="language-shell"> Apply complete<span class="token operator">!</span> Resources: <span class="token number">1</span> added, <span class="token number">0</span> changed, <span class="token number">0</span> destroyed.</code></pre></div>
<p>And that is an overall view of defining and creating your infrastructure resources in an <em>automated</em> way. All through config files <strong>removing the manual process.</strong></p>
<p><figure class="gatsby-resp-image-figure" style="border-bottom: none;">
    <span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/gatsby-personal-site/static/37e8e5bd5e711982952ed71563235c71/a2510/terraform_resource_spanish_omelet_from_casa_paco_madrid.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 55.99999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAALABQDASIAAhEBAxEB/8QAFwAAAwEAAAAAAAAAAAAAAAAAAAQFA//EABYBAQEBAAAAAAAAAAAAAAAAAAIAAf/aAAwDAQACEAMQAAABSal0huRPFf/EABoQAAMAAwEAAAAAAAAAAAAAAAECAwAREiL/2gAIAQEAAQUCii9MEoUWQHRGV8w2c//EABURAQEAAAAAAAAAAAAAAAAAABEQ/9oACAEDAQE/AUn/xAAXEQADAQAAAAAAAAAAAAAAAAAAAREh/9oACAECAQE/AY2af//EABsQAAIDAAMAAAAAAAAAAAAAAAERAAIhEFGx/9oACAEBAAY/AmSche+xWqzAXBYZbvj/xAAaEAEAAgMBAAAAAAAAAAAAAAABABEhMVFB/9oACAEBAAE/Iacjjs3AViHtJUWLgVzzc0IEYZ//2gAMAwEAAgADAAAAEB/P/8QAFhEAAwAAAAAAAAAAAAAAAAAAAAER/9oACAEDAQE/EIQiP//EABYRAQEBAAAAAAAAAAAAAAAAABEAAf/aAAgBAgEBPxDdizP/xAAaEAEBAAMBAQAAAAAAAAAAAAABEQAhQTHh/9oACAEBAAE/EIgm7EVyTnuRJsDdQd+ZchYKVGYU+Qjc7WB0EvswkKXfuf/Z'); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Terraform resource Spanish omelet from Casa Paco, Madrid"
        title="Terraform resource Spanish omelet from Casa Paco, Madrid"
        src="/gatsby-personal-site/static/37e8e5bd5e711982952ed71563235c71/b4294/terraform_resource_spanish_omelet_from_casa_paco_madrid.jpg"
        srcset="/gatsby-personal-site/static/37e8e5bd5e711982952ed71563235c71/75985/terraform_resource_spanish_omelet_from_casa_paco_madrid.jpg 150w,
/gatsby-personal-site/static/37e8e5bd5e711982952ed71563235c71/f93b5/terraform_resource_spanish_omelet_from_casa_paco_madrid.jpg 300w,
/gatsby-personal-site/static/37e8e5bd5e711982952ed71563235c71/b4294/terraform_resource_spanish_omelet_from_casa_paco_madrid.jpg 600w,
/gatsby-personal-site/static/37e8e5bd5e711982952ed71563235c71/8e1fc/terraform_resource_spanish_omelet_from_casa_paco_madrid.jpg 900w,
/gatsby-personal-site/static/37e8e5bd5e711982952ed71563235c71/a2510/terraform_resource_spanish_omelet_from_casa_paco_madrid.jpg 1000w"
        sizes="(max-width: 600px) 100vw, 600px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span>
    <figcaption class="gatsby-resp-image-figcaption"><p>Terraform resource Spanish omelet from Casa Paco, Madrid</p></figcaption>
  </figure></p>
<h3 id="State" style="position:relative;">State<a href="#State" aria-label="State permalink" class="autolink-headers after"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20" style="margin: 0 0 -0.2rem 0.7rem; "><path fill="white" fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p>The last thing to mention would be the <strong>Terraform State.</strong> Its purpose is to store the relation between the objects in a remote system and the resource instances declared in your configuration.</p>
<p>When the remote object is created its identity is recorded against a particular resource instance.</p>
<p>Future configuration changes will update the state and make terraform update or delete that object.</p>
<h2 id="How-we-use-it" style="position:relative;">How we use it<a href="#How-we-use-it" aria-label="How we use it permalink" class="autolink-headers after"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20" style="margin: 0 0 -0.2rem 0.7rem; "><path fill="white" fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2>
<p>Going back to our reusable ecommerce platform. Here is how we take advantage of Terraform’s features to improve our workflow.</p>
<h3 id="Version-Control-System" style="position:relative;">Version Control System<a href="#Version-Control-System" aria-label="Version Control System permalink" class="autolink-headers after"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20" style="margin: 0 0 -0.2rem 0.7rem; "><path fill="white" fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p>Having all the infrastructure defined in code files means we can use a <strong>VCS</strong> (Version Control System). We opt for Git and host it in a GitHub repository. This way we can keep a history control of the resources we have been using.</p>
<p>In addition, the integration with GitHub allows us to work with pull requests in order to add, change or destroy resources from the Infrastructure.</p>
<p>Although the Terraform State is stored locally by default in a file named <code class="language-text">terraform.tfstate</code>, we store it remotely outside the VCS. This is a good practice when working in a team environment.</p>
<h3 id="Terraform-Variables" style="position:relative;">Terraform Variables<a href="#Terraform-Variables" aria-label="Terraform Variables permalink" class="autolink-headers after"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20" style="margin: 0 0 -0.2rem 0.7rem; "><path fill="white" fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p>Being a reusable platform means its infrastructure has to be the same in every shop we create. With terraform, we accomplish this by defining a <a href="https://www.terraform.io/docs/language/values/variables.html">Terraform input variable</a> called <code class="language-text">shops_to_apply</code>.</p>
<p>We then pass this variable through the modules and resources where we want to use it.  This way when we apply the plan the changes will happen in each of the shops.</p>
<p>Here is an example of how we would define the variable if we had to set up the infrastructure for three different shops.</p>
<div class="gatsby-highlight" data-language="hcl"><pre class="language-hcl"><code class="language-hcl"><span class="token keyword">variable<span class="token type variable"> "shops_to_apply" </span></span><span class="token punctuation">{</span>
  <span class="token property">default</span> <span class="token punctuation">=</span> <span class="token punctuation">{</span>
   <span class="token property">happy</span>  <span class="token punctuation">=</span> <span class="token string">"happyReadings"</span>
   <span class="token property">world</span>  <span class="token punctuation">=</span> <span class="token string">"worldOfWaves"</span>   
   <span class="token property">healt</span>  <span class="token punctuation">=</span> <span class="token string">"healthyFruits"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre></div>
<p>Then in each resource, we use a Terraform <a href="https://www.terraform.io/docs/language/meta-arguments/for_each.html">for_each meta-argument</a> to iterate them.</p>
<div class="gatsby-highlight" data-language="hcl"><pre class="language-hcl"><code class="language-hcl"><span class="token keyword">resource <span class="token type variable">"azurerm_postgresql_database"</span></span> <span class="token string">"orders-api-service"</span> <span class="token punctuation">{</span>
  <span class="token property">for_each</span>            <span class="token punctuation">=</span> var.shops_to_apply
  <span class="token property">name</span>                <span class="token punctuation">=</span> <span class="token string">"<span class="token interpolation"><span class="token punctuation">$</span><span class="token punctuation">{</span>each<span class="token punctuation">.</span>key<span class="token punctuation">}</span></span>-orders-api-service"</span>
  ... other config
<span class="token punctuation">}</span></code></pre></div>
<h3 id="Environments-and-CICD" style="position:relative;">Environments and CICD<a href="#Environments-and-CICD" aria-label="Environments and CICD permalink" class="autolink-headers after"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20" style="margin: 0 0 -0.2rem 0.7rem; "><path fill="white" fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h3>
<p>We work with three environments:</p>
<ul>
<li><strong>Development:</strong> A testing environment where all services new features, refactors, and bug fixes get released once merged to the main repository branch.</li>
<li><strong>Staging:</strong> A mirror of the Production environment. When the changes have been properly implemented in Development they are promoted to this environment. In this environment, we can see how they will work in a production-similar situation.</li>
<li><strong>Production:</strong> The environment the user has access to. The final environment where the changes get promoted from Staging.</li>
</ul>
<p>Not all the changes are visible at once in each environment. We use <a href="https://configcat.com/">ConfigCat</a> as our system of feature flags to make most of the changes visible or not.</p>
<p>We use <a href="https://github.com/features/actions">GitHub Actions</a> and <a href="https://azure.microsoft.com/en-us/services/devops/pipelines/">Azure DevOps</a> for our Continuous Integration and Continuous Delivery system. When the changes on the Terraform infrastructure repository are added to the main branch, the CICD system gets triggered and the plan is executed on our development environments. When the logs from the plan are the expected ones we manually run the <code class="language-text">apply</code>.</p>
<p><figure class="gatsby-resp-image-figure" style="border-bottom: none;">
    <span
      class="gatsby-resp-image-wrapper"
      style="position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 600px; "
    >
      <a
    class="gatsby-resp-image-link"
    href="/gatsby-personal-site/static/440d108f6f09e565d0cf7750ac4557cb/c352c/azure_devops_release_pipelines.jpg"
    style="display: block"
    target="_blank"
    rel="noopener"
  >
    <span
    class="gatsby-resp-image-background-image"
    style="padding-bottom: 79.33333333333333%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAAQABQDASIAAhEBAxEB/8QAFgABAQEAAAAAAAAAAAAAAAAAAAEF/8QAFAEBAAAAAAAAAAAAAAAAAAAAAP/aAAwDAQACEAMQAAAByIpAf//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEAAQUCX//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQMBAT8BP//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABQQAQAAAAAAAAAAAAAAAAAAACD/2gAIAQEABj8CX//EABYQAAMAAAAAAAAAAAAAAAAAAAAggf/aAAgBAQABPyEq/wD/2gAMAwEAAgADAAAAEMAP/8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAwEBPxA//8QAFBEBAAAAAAAAAAAAAAAAAAAAEP/aAAgBAgEBPxA//8QAGxAAAgIDAQAAAAAAAAAAAAAAAREAIRAxcaH/2gAIAQEAAT8QaVpw2bDuAb3He/Mf/9k='); background-size: cover; display: block;"
  ></span>
  <img
        class="gatsby-resp-image-image"
        alt="Azure DevOps Release Stages"
        title="Azure DevOps Release Stages"
        src="/gatsby-personal-site/static/440d108f6f09e565d0cf7750ac4557cb/b4294/azure_devops_release_pipelines.jpg"
        srcset="/gatsby-personal-site/static/440d108f6f09e565d0cf7750ac4557cb/75985/azure_devops_release_pipelines.jpg 150w,
/gatsby-personal-site/static/440d108f6f09e565d0cf7750ac4557cb/f93b5/azure_devops_release_pipelines.jpg 300w,
/gatsby-personal-site/static/440d108f6f09e565d0cf7750ac4557cb/b4294/azure_devops_release_pipelines.jpg 600w,
/gatsby-personal-site/static/440d108f6f09e565d0cf7750ac4557cb/8e1fc/azure_devops_release_pipelines.jpg 900w,
/gatsby-personal-site/static/440d108f6f09e565d0cf7750ac4557cb/e5166/azure_devops_release_pipelines.jpg 1200w,
/gatsby-personal-site/static/440d108f6f09e565d0cf7750ac4557cb/c352c/azure_devops_release_pipelines.jpg 1464w"
        sizes="(max-width: 600px) 100vw, 600px"
        style="width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;"
        loading="lazy"
        decoding="async"
      />
  </a>
    </span>
    <figcaption class="gatsby-resp-image-figcaption"><p>Azure DevOps Release Stages</p></figcaption>
  </figure></p>
<h2 id="Conclusions" style="position:relative;">Conclusions<a href="#Conclusions" aria-label="Conclusions permalink" class="autolink-headers after"><svg aria-hidden="true" height="20" version="1.1" viewBox="0 0 16 16" width="20" style="margin: 0 0 -0.2rem 0.7rem; "><path fill="white" fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a></h2>
<p>Having the infrastructure defined as code has brought us nothing but improvements to our platform. Here is a list of them:</p>
<ul>
<li><strong>Reduce human error and increase automation.</strong> The fewer resources you set up manually, the fewer errors you get in the long term.</li>
<li><strong>It is easier to maintain</strong> since all the infrastructure is coded in config files. Plus we are <strong>using GitHub repositories and Pull Requests</strong> to collaborate all together.</li>
<li>The infrastructure is <strong>easier to change</strong> compared to traditional manual ways.</li>
<li>All the configuration files work as <strong>documentation of the resources</strong> we are using.</li>
<li>Thanks to the use of variables we <strong>speed up the process of setting up new ecommerce platforms.</strong></li>
<li>Updating and deleting resources is a delicate topic. Having a proper CICD allows us to <strong>predict and make changes to the infrastructure in the safest way possible.</strong></li>
<li>We can effortlessly <strong>provision our development, staging, and production environments with the same consistent configuration.</strong></li>
</ul></div><div class="Comments__Wrapper-czvh9a-0 fCKPUh"><h2>Comments</h2><p>Thanks for reading ❤️ </p><p>You can comment by replying to the<!-- --> <a href="https://github.com/reymon359/gatsby-personal-site/issues/534" target="_blank" rel="noreferrer noopener">issue for this post.</a></p><p>There’s no comments yet,<!-- --> <a href="https://github.com/reymon359/gatsby-personal-site/issues/534#new_comment_field" target="_blank" rel="noreferrer noopener">be the first to leave one!</a></p><div class="Comments__Actions-czvh9a-8 hfVTUK"><a href="https://github.com/reymon359/gatsby-personal-site/issues/534#new_comment_field" target="_blank" rel="noreferrer noopener" class="button btn">Add a comment →</a></div></div><h2>Other posts</h2><ul class="post__OtherPostsLinks-sc-18ghmkz-0 galTMt"><li><a rel="prev" href="/gatsby-personal-site/traveling-through-the-canary-islands-an-in-depth-guide-to-the-canary-islands/">← <!-- -->Traveling through The Canary Islands: An in-depth guide to the Canary Islands</a></li></ul></div></article><div class="Content__BottomHeight-sc-1q50de9-1 dYysHN"></div></div></main><div class="Navigation__Wrapper-sxzav8-0 hfVphx"><header class="Navigation__Header-sxzav8-2 iTMXyh"><div class="Logo__Wrapper-sc-19tlazh-1 bCOyZr"><div class="Logo__RelativeWrapper-sc-19tlazh-2 Essph"><a href="/gatsby-personal-site/"><svg width="22" height="22" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg"><path d="M11 21.5C5.201 21.5.5 16.799.5 11S5.201.5 11 .5 21.5 5.201 21.5 11 16.799 21.5 11 21.5zm0-1a9.5 9.5 0 1 0 0-19 9.5 9.5 0 0 0 0 19z" fill="#FFFFFF"></path></svg></a><div class="Logo__Background-sc-19tlazh-0 dQZthV"></div></div></div><div class="HelpMessage__Wrapper-sc-11fekqt-0 fPYIDe">Move around the screen or scroll it</div><div class="ToggleMenu__ToggleMenuWrapper-sc-1rm9swz-0 bHbNgR"><span></span><span></span><span></span></div></header><div class="Navigation__Shoable-sxzav8-1 jUAACT"><div><nav class="Menu__MenuWrapper-sc-1vxe8de-0 bTtsHt"><ul class="Menu__Nav-sc-1vxe8de-1 iNaoaw"><li class="Menu__NavItem-sc-1vxe8de-2 ByzpB"><a href="https://github.com/reymon359" rel="noopener noreferrer" target="_blank">GitHub</a></li><li class="Menu__NavItem-sc-1vxe8de-2 ByzpB"><a href="https://www.linkedin.com/in/ramon-morcillo/" rel="noopener noreferrer" target="_blank">Linkedin</a></li><li class="Menu__NavItem-sc-1vxe8de-2 ByzpB"><a href="https://codepen.io/reymon359" rel="noopener noreferrer" target="_blank">Codepen</a></li><li class="Menu__NavItem-sc-1vxe8de-2 ByzpB"><a href="https://twitter.com/reymon359" rel="noopener noreferrer" target="_blank">Twitter</a></li></ul><ul class="Menu__Nav-sc-1vxe8de-1 iNaoaw"><li class="Menu__NavItem-sc-1vxe8de-2 ByzpB"><a class="Menu__NavLink-sc-1vxe8de-3 cEEwRr" href="/gatsby-personal-site/">Index</a></li><li class="Menu__NavItem-sc-1vxe8de-2 ByzpB"><a class="Menu__NavLink-sc-1vxe8de-3 cEEwRr" href="/gatsby-personal-site/works">works</a></li><li class="Menu__NavItem-sc-1vxe8de-2 ByzpB"><a class="Menu__NavLink-sc-1vxe8de-3 cEEwRr" href="/gatsby-personal-site/about">about</a></li><li class="Menu__NavItem-sc-1vxe8de-2 ByzpB"><a rel="noopener" href="mailto:hey@ramonmorcillo.com?subject=Hi%20there!">Contact</a></li></ul></nav><footer class="Footer__FooterWrapper-sc-1df0yns-0 iXxlXu"><div class="Footer__Item-sc-1df0yns-1 jSPHnk"><span>Ramón Morcillo - <!-- -->2021<!-- --> - </span> <a href="https://github.com/reymon359/gatsby-personal-site/" target="_blank" rel="noopener noreferrer">source</a></div><div class="Footer__Item-sc-1df0yns-1 iYbvcT">Made with love &amp; time <small style="font-size:70%">(a lot of it)</small></div></footer></div></div></div></div><div id="gatsby-announcer" style="position:absolute;top:0;width:1px;height:1px;padding:0;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border:0" aria-live="assertive" aria-atomic="true"></div></div><script>
  
  
  if(true) {
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
  }
  if (typeof ga === "function") {
    ga('create', 'Add the Google Analytics Tracking ID', 'auto', {});
      
      
      
      
      
      }</script><script id="gatsby-script-loader">/*<![CDATA[*/window.pagePath="/managing-the-infrastructure-of-a-reusable-ecommerce-platform-with-terraform/";/*]]>*/</script><script id="gatsby-chunk-mapping">/*<![CDATA[*/window.___chunkMapping={"polyfill":["/polyfill-247a476f55ec3e43e6a4.js"],"app":["/app-661b59fc950a0d419b03.js"],"component---src-pages-404-tsx":["/component---src-pages-404-tsx-178ddf60e15d54bac954.js"],"component---src-pages-about-tsx":["/component---src-pages-about-tsx-5aaaeb6b901c30f0b9f1.js"],"component---src-pages-blog-tsx":["/component---src-pages-blog-tsx-2e712053337d0a4f701a.js"],"component---src-pages-index-tsx":["/component---src-pages-index-tsx-8e82322f2ded75ae2842.js"],"component---src-pages-projects-tsx":["/component---src-pages-projects-tsx-1ca09437a35e137e6d9d.js"],"component---src-pages-tags-tsx":["/component---src-pages-tags-tsx-a8fec2bde9c760d22c0d.js"],"component---src-pages-works-tsx":["/component---src-pages-works-tsx-30d97cacd9ae793fcf93.js"],"component---src-templates-post-tsx":["/component---src-templates-post-tsx-fc7e64f5e9378365724d.js"],"component---src-templates-tag-tsx":["/component---src-templates-tag-tsx-d873fc5846013d61fddb.js"]};/*]]>*/</script><script src="/gatsby-personal-site/polyfill-247a476f55ec3e43e6a4.js" nomodule=""></script><script src="/gatsby-personal-site/component---src-templates-post-tsx-fc7e64f5e9378365724d.js" async=""></script><script src="/gatsby-personal-site/a93ca09b3e214b1f9c56eefcc27e05eb63340a26-41145a67edc9f38f72ea.js" async=""></script><script src="/gatsby-personal-site/commons-2572092cd8427adb054b.js" async=""></script><script src="/gatsby-personal-site/app-661b59fc950a0d419b03.js" async=""></script><script src="/gatsby-personal-site/framework-de69d1d98c3759f869ba.js" async=""></script><script src="/gatsby-personal-site/webpack-runtime-37b80963a1cdea856f28.js" async=""></script></body></html>